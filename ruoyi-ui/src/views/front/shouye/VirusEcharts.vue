<template>
  <div id="virusChart" :style="{width: '700px', height: '500px'}"></div>
</template>

<script>
import request from '@/utils/request'
export default {
  name: "VirusEcharts",
  data() {
    return {
      rawData:[["Num","Country","Year"],[4,"Canada",20200201],[11871,"China",20200201],[20,"Japan",20200201],[2,"United Kingdom",20200201],[6,"France",20200201],[12,"Australia",20200201],[8,"Germany",20200201],[8,"US",20200201],[2,"Russia",20200201],[7,"Canada",20200210],[42306,"China",20200210],[26,"Japan",20200210],[8,"United Kingdom",20200210],[11,"France",20200210],[15,"Australia",20200210],[14,"Germany",20200210],[12,"US",20200210],[2,"Russia",20200210],[8,"Canada",20200220],[74999,"China",20200220],[94,"Japan",20200220],[9,"United Kingdom",20200220],[12,"France",20200220],[15,"Australia",20200220],[16,"Germany",20200220],[15,"US",20200220],[2,"Russia",20200220],[26,"Canada",20200301],[79826,"China",20200301],[256,"Japan",20200301],[36,"United Kingdom",20200301],[130,"France",20200301],[27,"Australia",20200301],[130,"Germany",20200301],[76,"US",20200301],[2,"Russia",20200301],[165,"Canada",20200310],[80757,"China",20200310],[581,"Japan",20200310],[382,"United Kingdom",20200310],[1773,"France",20200310],[107,"Australia",20200310],[1457,"Germany",20200310],[959,"US",20200310],[10,"Russia",20200310],[1692,"Canada",20200320],[81250,"China",20200320],[963,"Japan",20200320],[4000,"United Kingdom",20200320],[12632,"France",20200320],[791,"Australia",20200320],[19848,"Germany",20200320],[19101,"US",20200320],[253,"Russia",20200320],[12023,"Canada",20200401],[84002,"China",20200401],[2178,"Japan",20200401],[29831,"United Kingdom",20200401],[4862,"Australia",20200401],[57125,"France",20200401],[212304,"US",20200401],[77872,"Germany",20200401],[2777,"Russia",20200401],[24248,"Canada",20200410],[85115,"China",20200410],[5530,"Japan",20200410],[74565,"United Kingdom",20200410],[6215,"Australia",20200410],[90793,"France",20200410],[493663,"US",20200410],[122171,"Germany",20200410],[11917,"Russia",20200410],[41029,"Canada",20200420],[86382,"China",20200420],[10797,"Japan",20200420],[125848,"United Kingdom",20200420],[6547,"Australia",20200420],[155489,"France",20200420],[779231,"US",20200420],[147065,"Germany",20200420],[47121,"Russia",20200420],[59025,"Canada",20200501],[86850,"China",20200501],[14305,"Japan",20200501],[178684,"United Kingdom",20200501],[6778,"Australia",20200501],[169387,"France",20200501],[1100080,"US",20200501],[164077,"Germany",20200501],[114431,"Russia",20200501],[70582,"Canada",20200510],[86973,"China",20200510],[15777,"Japan",20200510],[220445,"United Kingdom",20200510],[6948,"Australia",20200510],[178404,"France",20200510],[1323916,"US",20200510],[171879,"Germany",20200510],[209688,"Russia",20200510],[82038,"Canada",20200520],[87151,"China",20200520],[16367,"Japan",20200520],[249612,"United Kingdom",20200520],[7081,"Australia",20200520],[183129,"France",20200520],[1545499,"US",20200520],[178473,"Germany",20200520],[308705,"Russia",20200520],[92863,"Canada",20200601],[16778,"Japan",20200601],[87520,"China",20200601],[277732,"United Kingdom",20200601],[7221,"Australia",20200601],[191382,"France",20200601],[1802532,"US",20200601],[183594,"Germany",20200601],[414328,"Russia",20200601],[97592,"Canada",20200610],[17135,"Japan",20200610],[87626,"China",20200610],[291584,"United Kingdom",20200610],[7285,"Australia",20200610],[194489,"France",20200610],[1999934,"US",20200610],[186522,"Germany",20200610],[493023,"Russia",20200610],[101341,"Canada",20200620],[17714,"Japan",20200620],[88034,"China",20200620],[304576,"United Kingdom",20200620],[7461,"Australia",20200620],[199519,"France",20200620],[2256319,"US",20200620],[190670,"Germany",20200620],[576162,"Russia",20200620],[104830,"Canada",20200701],[18732,"Japan",20200701],[88344,"China",20200701],[314989,"United Kingdom",20200701],[8001,"Australia",20200701],[205234,"France",20200701],[2698515,"US",20200701],[195893,"Germany",20200701],[653479,"Russia",20200701],[107550,"Canada",20200710],[21034,"Japan",20200710],[88612,"China",20200710],[289674,"United Kingdom",20200710],[9553,"Australia",20200710],[210135,"France",20200710],[3195586,"US",20200710],[199332,"Germany",20200710],[712863,"Russia",20200710],[111821,"Canada",20200720],[25680,"Japan",20200720],[89298,"China",20200720],[296940,"United Kingdom",20200720],[12428,"Australia",20200720],[216089,"France",20200720],[3829747,"US",20200720],[203325,"Germany",20200720],[776212,"Russia",20200720],[117140,"Canada",20200801],[37790,"Japan",20200801],[91690,"China",20200801],[305568,"United Kingdom",20200801],[17895,"Australia",20200801],[227301,"France",20200801],[4611601,"US",20200801],[211005,"Germany",20200801],[843890,"Russia",20200801],[120458,"Canada",20200810],[49627,"Japan",20200810],[92919,"China",20200810],[313384,"United Kingdom",20200810],[21713,"Australia",20200810],[242168,"France",20200810],[5110410,"US",20200810],[218508,"Germany",20200810],[890799,"Russia",20200810],[124152,"Canada",20200820],[93782,"China",20200820],[59890,"Japan",20200820],[324194,"United Kingdom",20200820],[24407,"Australia",20200820],[269335,"France",20200820],[231292,"Germany",20200820],[5605260,"US",20200820],[939833,"Russia",20200820],[130131,"Canada",20200901],[94363,"China",20200901],[69018,"Japan",20200901],[339403,"United Kingdom",20200901],[25923,"Australia",20200901],[326264,"France",20200901],[246015,"Germany",20200901],[6103793,"US",20200901],[997072,"Russia",20200901],[136182,"Canada",20200910],[94683,"China",20200910],[73923,"Japan",20200910],[360545,"United Kingdom",20200910],[26564,"Australia",20200910],[394308,"France",20200910],[258149,"Germany",20200910],[6427066,"US",20200910],[1042836,"Russia",20200910],[145771,"Canada",20200920],[95159,"China",20200920],[79135,"Japan",20200920],[396748,"United Kingdom",20200920],[26912,"Australia",20200920],[493500,"France",20200920],[273965,"Germany",20200920],[6850958,"US",20200920],[1098958,"Russia",20200920],[164444,"Canada",20201001],[95568,"China",20201001],[84212,"Japan",20201001],[462780,"United Kingdom",20201001],[27109,"Australia",20201001],[618918,"France",20201001],[295539,"Germany",20201001],[7308565,"US",20201001],[1179634,"Russia",20201001],[183330,"Canada",20201010],[95979,"China",20201010],[88921,"Japan",20201010],[593569,"United Kingdom",20201010],[27263,"Australia",20201010],[761384,"France",20201010],[323463,"Germany",20201010],[7744622,"US",20201010],[1278245,"Russia",20201010],[207029,"Canada",20201020],[96427,"China",20201020],[93882,"Japan",20201020],[765484,"United Kingdom",20201020],[27443,"Australia",20201020],[975213,"France",20201020],[385591,"Germany",20201020],[8314122,"US",20201020],[1422775,"Russia",20201020],[240361,"Canada",20201101],[97250,"China",20201101],[101936,"Japan",20201101],[1038056,"United Kingdom",20201101],[27601,"Australia",20201101],[1460574,"France",20201101],[552060,"Germany",20201101],[9262825,"US",20201101],[1624648,"Russia",20201101],[277808,"Canada",20201110],[97902,"China",20201110],[110449,"Japan",20201110],[1237166,"United Kingdom",20201110],[27671,"Australia",20201110],[1881171,"France",20201110],[715693,"Germany",20201110],[10297520,"US",20201110],[1802762,"Russia",20201110],[325716,"Canada",20201120],[98240,"China",20201120],[128180,"Japan",20201120],[1477203,"United Kingdom",20201120],[27806,"Australia",20201120],[2161968,"France",20201120],[914118,"Germany",20201120],[11970955,"US",20201120],[2023025,"Russia",20201120],[389268,"Canada",20201201],[99336,"China",20201201],[150857,"Japan",20201201],[1647165,"United Kingdom",20201201],[27923,"Australia",20201201],[2285270,"France",20201201],[1094678,"Germany",20201201],[13825125,"US",20201201],[2302062,"Russia",20201201],[448106,"Canada",20201210],[100405,"China",20201210],[172290,"Japan",20201210],[1792522,"United Kingdom",20201210],[28011,"Australia",20201210],[2393629,"France",20201210],[1287092,"Germany",20201210],[15753686,"US",20201210],[2546113,"Russia",20201210],[515826,"Canada",20201220],[101521,"China",20201220],[199134,"Japan",20201220],[2046066,"United Kingdom",20201220],[28198,"Australia",20201220],[2529793,"France",20201220],[1514962,"Germany",20201220],[17960925,"US",20201220],[2821125,"Russia",20201220],[596582,"Canada",20210101],[102649,"China",20210101],[239005,"Japan",20210101],[2549671,"United Kingdom",20210101],[28460,"Australia",20210101],[2697014,"France",20210101],[1762504,"Germany",20210101],[20370235,"US",20210101],[3153960,"Russia",20210101],[669592,"Canada",20210110],[103754,"China",20210110],[289144,"Japan",20210110],[3081319,"United Kingdom",20210110],[28614,"Australia",20210110],[2840826,"France",20210110],[1929410,"Germany",20210110],[22589980,"US",20210110],[3366715,"Russia",20210110],[732755,"Canada",20210120],[105955,"China",20210120],[347029,"Japan",20210120],[3515776,"United Kingdom",20210120],[28749,"Australia",20210120],[3023613,"France",20210120],[2100618,"Germany",20210120],[24605068,"US",20210120],[3595136,"Russia",20210120],[786927,"Canada",20210201],[107902,"China",20210201],[392533,"Japan",20210201],[3846807,"United Kingdom",20210201],[28823,"Australia",20210201],[3260382,"France",20210201],[2232327,"Germany",20210201],[26463413,"US",20210201],[3825739,"Russia",20210201],[817664,"Canada",20210210],[108365,"China",20210210],[411017,"Japan",20210210],[3996819,"United Kingdom",20210210],[28879,"Australia",20210210],[3444827,"France",20210210],[2311297,"Germany",20210210],[27440707,"US",20210210],[3968228,"Russia",20210210],[847056,"Canada",20210220],[108707,"China",20210220],[424520,"Japan",20210220],[4117737,"United Kingdom",20210220],[28926,"Australia",20210220],[3642576,"France",20210220],[2388421,"Germany",20210220],[28212163,"US",20210220],[4105424,"Russia",20210220],[873539,"Canada",20210301],[109034,"China",20210301],[433334,"Japan",20210301],[4194287,"United Kingdom",20210301],[28986,"Australia",20210301],[3820418,"France",20210301],[2455569,"Germany",20210301],[28797992,"US",20210301],[4209850,"Russia",20210301],[901129,"Canada",20210310],[109350,"China",20210310],[442936,"Japan",20210310],[4247877,"United Kingdom",20210310],[29090,"Australia",20210310],[4022514,"France",20210310],[2541781,"Germany",20210310],[29320301,"US",20210310],[4302726,"Russia",20210310],[936143,"Canada",20210320],[109762,"China",20210320],[455667,"Japan",20210320],[4304837,"United Kingdom",20210320],[29196,"Australia",20210320],[4312451,"France",20210320],[2659792,"Germany",20210320],[29888054,"US",20210320],[4397816,"Russia",20210320],[997021,"Canada",20210401],[110169,"China",20210401],[477691,"Japan",20210401],[4364544,"United Kingdom",20210401],[29333,"Australia",20210401],[4755862,"France",20210401],[2866323,"Germany",20210401],[30639801,"US",20210401],[4503291,"Russia",20210401],[1064868,"Canada",20210410],[110536,"China",20210410],[504118,"Japan",20210410],[4382878,"United Kingdom",20210410],[29405,"Australia",20210410],[5001723,"France",20210410],[3009452,"Germany",20210410],[31257673,"US",20210410],[4580633,"Russia",20210410],[1150534,"Canada",20210420],[110952,"China",20210420],[542040,"Japan",20210420],[4408644,"United Kingdom",20210420],[29576,"Australia",20210420],[5401341,"France",20210420],[3198534,"Germany",20210420],[31901516,"US",20210420],[4665553,"Russia",20210420],[1238302,"Canada",20210501],[111325,"China",20210501],[598754,"Japan",20210501],[4434156,"United Kingdom",20210501],[29824,"Australia",20210501],[5703499,"France",20210501],[3423900,"Germany",20210501],[32500678,"US",20210501],[4759902,"Russia",20210501],[1302160,"Canada",20210510],[111558,"China",20210510],[646440,"Japan",20210510],[4452954,"United Kingdom",20210510],[29938,"Australia",20210510],[5841626,"France",20210510],[3538208,"Germany",20210510],[32850289,"US",20210510],[4832959,"Russia",20210510],[1355117,"Canada",20210520],[111897,"China",20210520],[704939,"Japan",20210520],[4471063,"United Kingdom",20210520],[29999,"Australia",20210520],[5629921,"France",20210520],[3638504,"Germany",20210520],[33165300,"US",20210520],[4917906,"Russia",20210520],[1388921,"Canada",20210601],[112329,"China",20210601],[749126,"Japan",20210601],[4506331,"United Kingdom",20210601],[30124,"Australia",20210601],[5738762,"France",20210601],[3692908,"Germany",20210601],[33397059,"US",20210601],[5022881,"Russia",20210601],[1403622,"Canada",20210610],[112702,"China",20210610],[769694,"Japan",20210610],[4558927,"United Kingdom",20210610],[30228,"Australia",20210610],[5791714,"France",20210610],[3718617,"Germany",20210610],[33532107,"US",20210610],[5108217,"Russia",20210610],[1413544,"Canada",20210620],[113186,"China",20210620],[785002,"Japan",20210620],[4646067,"United Kingdom",20210620],[30355,"Australia",20210620],[5819313,"France",20210620],[3730126,"Germany",20210620],[33653029,"US",20210620],[5255214,"Russia",20210620],[1420024,"Canada",20210701],[113614,"China",20210701],[801337,"Japan",20210701],[4844879,"United Kingdom",20210701],[30684,"Australia",20210701],[5840067,"France",20210701],[3736959,"Germany",20210701],[33791681,"US",20210701],[5472722,"Russia",20210701],[1424300,"Canada",20210710],[114006,"China",20210710],[818341,"Japan",20210710],[5107813,"United Kingdom",20210710],[31100,"Australia",20210710],[5870560,"France",20210710],[3743164,"Germany",20210710],[33961072,"US",20210710],[5688807,"Russia",20210710],[1428083,"Canada",20210720],[114489,"China",20210720],[847377,"Japan",20210720],[5542334,"United Kingdom",20210720],[32266,"Australia",20210720],[5952490,"France",20210720],[3754846,"Germany",20210720],[34292970,"US",20210720],[5931925,"Russia",20210720],[1435347,"Canada",20210801],[115473,"China",20210801],[936852,"Japan",20210801],[5907641,"United Kingdom",20210801],[34612,"Australia",20210801],[6210335,"France",20210801],[3778277,"Germany",20210801],[35145154,"US",20210801],[6207513,"Russia",20210801],[1447742,"Canada",20210810],[116710,"China",20210810],[1056125,"Japan",20210810],[6146599,"United Kingdom",20210810],[37377,"Australia",20210810],[6407573,"France",20210810],[3803351,"Germany",20210810],[36190767,"US",20210810],[6404960,"Russia",20210810],[1470870,"Canada",20210820],[117441,"China",20210820],[1260415,"Japan",20210820],[6459589,"United Kingdom",20210820],[43119,"Australia",20210820],[6660365,"France",20210820],[3863495,"Germany",20210820],[37742822,"US",20210820],[6613107,"Russia",20210820],[1508295,"Canada",20210901],[117991,"China",20210901],[1514400,"Japan",20210901],[6856890,"United Kingdom",20210901],[56560,"Australia",20210901],[6868151,"France",20210901],[3979839,"Germany",20210901],[39573928,"US",20210901],[6838652,"Russia",20210901],[1543498,"Canada",20210910],[118371,"China",20210910],[1628732,"Japan",20210910],[7202170,"United Kingdom",20210910],[71987,"Australia",20210910],[6972934,"France",20210910],[4071643,"Germany",20210910],[41026202,"US",20210910],[7000636,"Russia",20210910],[1586910,"Canada",20210920],[119188,"China",20210920],[1683129,"Japan",20210920],[7500714,"United Kingdom",20210920],[88710,"Australia",20210920],[7045422,"France",20210920],[4155160,"Germany",20210920],[42354404,"US",20210920],[7189445,"Russia",20210920],[1634313,"Canada",20211001],[119790,"China",20211001],[1706516,"Japan",20211001],[7878555,"United Kingdom",20211001],[109516,"Australia",20211001],[7111154,"France",20211001],[4249061,"Germany",20211001],[43681542,"US",20211001],[7425057,"Russia",20211001],[1663816,"Canada",20211010],[120169,"China",20211010],[1714555,"Japan",20211010],[8192634,"United Kingdom",20211010],[129567,"Australia",20211010],[7156066,"France",20211010],[4318437,"Germany",20211010],[44436294,"US",20211010],[7658923,"Russia",20211010],[1695134,"Canada",20211020],[120550,"China",20211020],[1719313,"Japan",20211020],[8630019,"United Kingdom",20211020],[151942,"Australia",20211020],[7202840,"France",20211020],[4429723,"Germany",20211020],[45291780,"US",20211020],[7969960,"Russia",20211020],[1723169,"Canada",20211101],[121477,"China",20211101],[1722427,"Japan",20211101],[9140352,"United Kingdom",20211101],[173165,"Australia",20211101],[7270410,"France",20211101],[4619273,"Germany",20211101],[46149287,"US",20211101],[8417305,"Russia",20211101],[1745188,"Canada",20211110],[122445,"China",20211110],[1724172,"Japan",20211110],[9451810,"United Kingdom",20211110],[185627,"Australia",20211110],[7346277,"France",20211110],[4908540,"Germany",20211110],[46837795,"US",20211110],[8764713,"Russia",20211110],[1769635,"Canada",20211120],[123076,"China",20211120],[1725715,"Japan",20211120],[9857655,"United Kingdom",20211120],[198442,"Australia",20211120],[7497912,"France",20211120],[5374446,"Germany",20211120],[47731029,"US",20211120],[9135149,"Russia",20211120],[1801609,"Canada",20211201],[123725,"China",20211201],[1726751,"Japan",20211201],[10333452,"United Kingdom",20211201],[213357,"Australia",20211201],[7829045,"France",20211201],[5999020,"Germany",20211201],[48721356,"US",20211201],[9500836,"Russia",20211201],[1833043,"Canada",20211210],[124673,"China",20211210],[1727794,"Japan",20211210],[10780442,"United Kingdom",20211210],[227382,"Australia",20211210],[8265076,"France",20211210],[6496142,"Germany",20211210],[49863947,"US",20211210],[9782723,"Russia",20211210],[1910922,"Canada",20211220],[125695,"China",20211220],[1729139,"Japan",20211220],[11518027,"United Kingdom",20211220],[259174,"Australia",20211220],[8745272,"France",20211220],[6834488,"Germany",20211220],[51160384,"US",20211220],[10064290,"Russia",20211220],[2256747,"Canada",20220101],[128132,"China",20220101],[1732752,"Japan",20220101],[13174530,"United Kingdom",20220101],[462955,"Australia",20220101],[10296909,"France",20220101],[7196154,"Germany",20220101],[55024579,"US",20220101],[10340011,"Russia",20220101],[2613071,"Canada",20220110],[130213,"China",20220110],[1770545,"Japan",20220110],[14708454,"United Kingdom",20220110],[1139097,"Australia",20220110],[12311963,"France",20220110],[7570361,"Germany",20220110],[61801545,"US",20220110],[10485705,"Russia",20220110],[2895331,"Canada",20220120],[132148,"China",20220120],[2021758,"Japan",20220120],[15717846,"United Kingdom",20220120],[2086522,"Australia",20220120],[15715329,"France",20220120],[8502132,"Germany",20220120],[69512327,"US",20220120],[10754905,"Russia",20220120],[3085591,"Canada",20220201],[134564,"China",20220201],[2820053,"Japan",20220201],[17543963,"United Kingdom",20220201],[2620532,"Australia",20220201],[19681231,"France",20220201],[10236740,"Germany",20220201],[75425108,"US",20220201],[11795059,"Russia",20220201],[3186085,"Canada",20220210],[139968,"China",20220210],[3675865,"Japan",20220210],[18287353,"United Kingdom",20220210],[2854123,"Australia",20220210],[21511997,"France",20220210],[12068411,"Germany",20220210],[77474910,"US",20220210],[13323972,"Russia",20220210],[3253232,"Canada",20220220],[175417,"China",20220220],[4490748,"Japan",20220220],[18746592,"United Kingdom",20220220],[3048857,"Australia",20220220],[22445580,"France",20220220],[13667353,"Germany",20220220],[78491862,"US",20220220],[15147762,"Russia",20220220],[3307510,"Canada",20220301],[456582,"China",20220301],[5071249,"Japan",20220301],[19120746,"United Kingdom",20220301],[3256772,"Australia",20220301],[22959368,"France",20220301],[14974722,"Germany",20220301],[79101937,"US",20220301],[16257688,"Russia",20220301],[3362047,"Canada",20220310],[932696,"China",20220310],[5610818,"Japan",20220310],[19600293,"United Kingdom",20220310],[3527894,"Australia",20220310],[23492815,"France",20220310],[16814429,"Germany",20220310],[79460655,"US",20220310],[16943915,"Russia",20220310],[3404964,"Canada",20220320],[1210422,"China",20220320],[6100331,"Japan",20220320],[20243940,"United Kingdom",20220320],[3943368,"Australia",20220320],[24323239,"France",20220320],[18809998,"Germany",20220320],[79744390,"US",20220320],[17327694,"Russia",20220320],[3502925,"Canada",20220401],[1400358,"China",20220401],[6604726,"Japan",20220401],[21379545,"United Kingdom",20220401],[4628163,"Australia",20220401],[25952226,"France",20220401],[21357039,"Germany",20220401],[80143098,"US",20220401],[17601907,"Russia",20220401],[3553125,"Canada",20220410],[1605905,"China",20220410],[7039397,"Japan",20220410],[21716180,"United Kingdom",20220410],[5108366,"Australia",20220410],[27136925,"France",20220410],[22677986,"Germany",20220410],[80412219,"US",20220410],[17733809,"Russia",20220410],[3679757,"Canada",20220420],[1892953,"China",20220420],[7484263,"Japan",20220420],[22060704,"United Kingdom",20220420],[5563493,"Australia",20220420],[28162002,"France",20220420],[23844536,"Germany",20220420],[80805017,"US",20220420],[17838087,"Russia",20220420]],
    }
  },
  created() {
    /*request({
      url: '/data/asset/data/life-expectancy-table.json',
      baseURL: '/virus',
    }).then(rawData=>{
      this.rawData=rawData
      this.draw(this.rawData);
    })*/
  },
  //钩子函数
  mounted(){
    this.draw(this.rawData);
  },
  methods: {
    draw(_rawData){
      // 初始化echarts实例
      let youChart = this.$echarts.init(document.getElementById('virusChart'))
      // 绘制图表

       // let countries = ['Australia', 'Canada', 'China', 'Cuba', 'Finland', 'France', 'Germany', 'Iceland', 'India', 'Japan', 'North Korea', 'South Korea', 'New Zealand', 'Norway', 'Poland', 'Russia', 'Turkey', 'United Kingdom', 'United States'];
      /*const countries = [
        'Finland',
        'France',
        'Germany',
        'Iceland',
        'Norway',
        'Poland',
        'Russia',
        'United Kingdom'
      ];*/

      let countries=[
        'Canada',
        'China',
        'Japan',
        'United Kingdom',
        'France',
        'Australia',
        'US',
        'Germany',
        'Russia'
      ]

      const datasetWithFilters = [];
      const seriesList = [];
      this.$echarts.util.each(countries, function (country) {
        var datasetId = 'dataset_' + country;
        datasetWithFilters.push({
          id: datasetId,
          fromDatasetId: 'dataset_raw',
          transform: {
            type: 'filter',
            config: {
              and: [
                // { dimension: 'Year', gte: 1950 },
                { dimension: 'Year', gte: 20200201 },
                { dimension: 'Country', '=': country }
              ]
            }
          }
        });
        seriesList.push({
          type: 'line',
          datasetId: datasetId,
          showSymbol: false,
          name: country,
          endLabel: {
            show: true,
            formatter: function (params) {
              // return params.value[3] + ': ' + params.value[0];
              return params.value[1] + ': ' + params.value[0];
            }
          },
          labelLayout: {
            moveOverlap: 'shiftY'
          },
          emphasis: {
            focus: 'series'
          },
          encode: {
            x: 'Year',
            // y: 'Income',
            y: 'ConfirmedNum',
            // label: ['Country', 'Income'],
            label: ['Country', 'Num'],
            itemName: 'Year',
            // tooltip: ['Income']
            tooltip: ['Num']
          }
        });
      });
      let option = {
        animationDuration: 10000,
        dataset: [
          {
            id: 'dataset_raw',
            source: _rawData
          },
          ...datasetWithFilters
        ],
        title: {
          text: '疫情时期各国确诊人数'
        },
        tooltip: {
          order: 'valueDesc',
          trigger: 'axis'
        },
        xAxis: {
          type: 'category',
          nameLocation: 'middle'
        },
        yAxis: {
          name: 'Income'
        },
        grid: {
          right: 140
        },
        series: seriesList
      };

      //防止越界，重绘canvas
      // window.onresize = youChart.resize;
      youChart.setOption(option);//设置option
    }
  }
}
</script>

<style scoped>

</style>
